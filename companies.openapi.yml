openapi: 3.0.3
info:
  title: Test API
  description: Test API
  version: 0.0.1
servers:
- url: http://localhost:8080
paths:
  /users:
    get:
      operationId: listUsers
      parameters:
      - name: page
        in: query
        schema:
          minimum: 0
          type: integer
          format: int32
      - name: size
        in: query
        schema:
          maximum: 100
          minimum: 1
          type: integer
          format: int32
      - name: filter
        in: query
        schema:
          $ref: '#/components/schemas/UserFilter'
      - name: sort
        in: query
        schema:
          $ref: '#/components/schemas/UserSort'
      - name: order
        in: query
        schema:
          $ref: '#/components/schemas/SortOrder'
      responses:
        "200":
          description: OK
          headers:
            Content-Range:
              schema:
                type: string
              example: "Content-Range: users 25-49/123"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserEntry'
    post:
      operationId: createUser
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCreate'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
  /users/{id}:
    get:
      operationId: readUser
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
    put:
      operationId: updateUser
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdate'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
  /users/ids/{ids}:
    get:
      operationId: getManyUsers
      parameters:
      - name: ids
        in: path
        required: true
        schema:
          type: array
          items:
            type: integer
            format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
  /companies:
    get:
      operationId: listCompanies
      parameters:
      - name: page
        in: query
        schema:
          minimum: 0
          type: integer
          format: int32
      - name: size
        in: query
        schema:
          maximum: 100
          minimum: 1
          type: integer
          format: int32
      - name: filter
        in: query
        schema:
          $ref: '#/components/schemas/CompanyFilter'
      - name: sort
        in: query
        schema:
          $ref: '#/components/schemas/CompanySort'
      - name: order
        in: query
        schema:
          $ref: '#/components/schemas/SortOrder'
      responses:
        "200":
          description: OK
          headers:
            Content-Range:
              schema:
                type: string
              example: "Content-Range: companies 25-49/123"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CompanyEntry'
    post:
      operationId: createCompany
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyCreate'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Company'
  /companies/{id}:
    get:
      operationId: readCompany
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Company'
    put:
      operationId: updateCompany
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyUpdate'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Company'
    delete:
      operationId: deleteCompany
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
  /companies/ids/{ids}:
    get:
      operationId: getManyCompanies
      parameters:
      - name: ids
        in: path
        required: true
        schema:
          type: array
          items:
            type: integer
            format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Company'
  /employees:
    get:
      operationId: listEmployees
      parameters:
      - name: page
        in: query
        schema:
          minimum: 0
          type: integer
          format: int32
      - name: size
        in: query
        schema:
          maximum: 100
          minimum: 1
          type: integer
          format: int32
      - name: filter
        in: query
        schema:
          $ref: '#/components/schemas/EmployeeFilter'
      - name: sort
        in: query
        schema:
          $ref: '#/components/schemas/EmployeeSort'
      - name: order
        in: query
        schema:
          $ref: '#/components/schemas/SortOrder'
      responses:
        "200":
          description: OK
          headers:
            Content-Range:
              schema:
                type: string
              example: "Content-Range: employees 25-49/123"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EmployeeEntry'
    post:
      operationId: createEmployee
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmployeeCreate'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employee'
  /employees/{id}:
    get:
      operationId: readEmployee
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employee'
    put:
      operationId: updateEmployee
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmployeeUpdate'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employee'
    delete:
      operationId: deleteEmployee
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
  /employees/ids/{ids}:
    get:
      operationId: getManyEmployees
      parameters:
      - name: ids
        in: path
        required: true
        schema:
          type: array
          items:
            type: integer
            format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Employee'
components:
  schemas:
    UserFilter:
      title: UserFilter
      properties:
        q:
          type: string
        id:
          type: integer
          format: int64
        email:
          type: string
          format: email
        firstName:
          type: string
        lastName:
          type: string
        displayName:
          type: string
    UserEntry:
      title: UserEntry
      required:
      - id
      - email
      - displayName
      properties:
        id:
          type: integer
          format: int64
        email:
          type: string
          format: email
        firstName:
          type: string
        lastName:
          type: string
        displayName:
          type: string
    UserSort:
      title: UserSort
      enum:
      - id
      - email
      - firstName
      - lastName
      - displayName
    UserCreate:
      title: UserCreate
      required:
      - email
      - displayName
      properties:
        email:
          type: string
          format: email
        firstName:
          type: string
        lastName:
          type: string
        displayName:
          type: string
    User:
      title: User
      required:
      - id
      - email
      - displayName
      - currentEmployeeId
      properties:
        id:
          type: integer
          format: int64
        email:
          type: string
          format: email
        firstName:
          type: string
        lastName:
          type: string
        displayName:
          type: string
        currentEmployeeId:
          type: integer
          format: int64
    UserUpdate:
      title: UserUpdate
      required:
      - displayName
      properties:
        firstName:
          type: string
        lastName:
          type: string
        displayName:
          type: string
    CompanyFilter:
      title: CompanyFilter
      properties:
        q:
          type: string
        id:
          type: integer
          format: int64
        name:
          type: string
        vatNumber:
          type: string
          format: vat
        externalId:
          type: string
        verified:
          type: boolean
        lastVerifiedAt:
          type: string
          format: date-time
        lastUnverifiedAt:
          type: string
          format: date-time
    CompanyEntry:
      title: CompanyEntry
      required:
      - id
      - name
      - vatNumber
      - verified
      - lastVerifiedAt
      - lastUnverifiedAt
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        vatNumber:
          type: string
          format: vat
        externalId:
          type: string
        verified:
          type: boolean
        lastVerifiedAt:
          type: string
          format: date-time
        lastUnverifiedAt:
          type: string
          format: date-time
    CompanySort:
      title: CompanySort
      enum:
      - id
      - name
      - vatNumber
      - externalId
      - verified
      - lastVerifiedAt
      - lastUnverifiedAt
    CompanyCreate:
      title: CompanyCreate
      required:
      - name
      - vatNumber
      - verified
      properties:
        name:
          type: string
        vatNumber:
          type: string
          format: vat
        externalId:
          type: string
        url:
          type: string
          format: url
        verified:
          type: boolean
    Company:
      title: Company
      required:
      - id
      - name
      - vatNumber
      - verified
      - lastVerifiedAt
      - lastUnverifiedAt
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        vatNumber:
          type: string
          format: vat
        externalId:
          type: string
        url:
          type: string
          format: url
        verified:
          type: boolean
        lastVerifiedAt:
          type: string
          format: date-time
        lastUnverifiedAt:
          type: string
          format: date-time
    CompanyUpdate:
      title: CompanyUpdate
      required:
      - name
      - verified
      properties:
        name:
          type: string
        url:
          type: string
          format: url
        verified:
          type: boolean
    EmployeeFilter:
      title: EmployeeFilter
      properties:
        q:
          type: string
        id:
          type: integer
          format: int64
        active:
          type: boolean
        lastActivatedAt:
          type: string
          format: date-time
        lastDeActivatedAt:
          type: string
          format: date-time
        userId:
          type: integer
          format: int64
        companyId:
          type: integer
          format: int64
    EmployeeEntry:
      title: EmployeeEntry
      required:
      - id
      - active
      - lastActivatedAt
      - lastDeActivatedAt
      - userId
      - companyId
      properties:
        id:
          type: integer
          format: int64
        active:
          type: boolean
        lastActivatedAt:
          type: string
          format: date-time
        lastDeActivatedAt:
          type: string
          format: date-time
        userId:
          type: integer
          format: int64
        companyId:
          type: integer
          format: int64
    EmployeeSort:
      title: EmployeeSort
      enum:
      - id
      - active
      - lastActivatedAt
      - lastDeActivatedAt
      - userId
      - companyId
    EmployeeCreate:
      title: EmployeeCreate
      required:
      - active
      - userId
      - companyId
      properties:
        active:
          type: boolean
        userId:
          type: integer
          format: int64
        companyId:
          type: integer
          format: int64
    Employee:
      title: Employee
      required:
      - id
      - active
      - lastActivatedAt
      - lastDeActivatedAt
      - userId
      - companyId
      properties:
        id:
          type: integer
          format: int64
        active:
          type: boolean
        lastActivatedAt:
          type: string
          format: date-time
        lastDeActivatedAt:
          type: string
          format: date-time
        userId:
          type: integer
          format: int64
        companyId:
          type: integer
          format: int64
    EmployeeUpdate:
      title: EmployeeUpdate
      required:
      - active
      properties:
        active:
          type: boolean
    SortOrder:
      type: string
      enum:
      - ASC
      - DESC
